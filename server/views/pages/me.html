{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "../components/back-button/macro.njk" import backButton %}
{% from "../components/feedback-widget/macro.njk" import hubFeedbackWidget %}
{% from "../components/personal-keyworker/macro.njk" import personalKeyworker %}
{% from "../components/personal-balance/macro.njk" import personalBalances %}
{% from "../components/personal-iep/macro.njk" import personalIncentives %}
{% from "../components/personal-visits/macro.njk" import personalVisits %}
{% from "../components/personal-important-dates/macro.njk" import personalImportantDates %}
{% from "../components/personal-schedule-today/macro.njk" import personalScheduleToday %}
{% extends "../components/template.njk" %}

{% block pageTitle %}
  {{ data.title }}
{% endblock %}

{% block head %}
  <!--[if !IE 8]><!-->
  <link href="/public/stylesheets/application.css" rel="stylesheet"/>
  <!--<![endif]-->

  {# For Internet Explorer 8, you need to compile specific stylesheet #}
  {# see https://github.com/alphagov/govuk-frontend/govuk/blob/master/docs/installation/supporting-internet-explorer-8.md #}
  <!--[if IE 8]>
    <link href="/govuk-frontend/govuk/all-ie8.css" rel="stylesheet" />
  <![endif]-->

  {# For older browsers to allow them to recognise HTML5 elements such as `<header>` #}
  <!--[if lt IE 9]>
    <script src="/html5-shiv/html5shiv.js"></script>
  <![endif]-->
{% endblock %}

{% block header %}
  {{ backButton() }}
{% endblock %}

{% block main %}
  <div class="govuk-width-container">
    <div class="govuk-main-wrapper">
      <h2 class="govuk-heading-l">Today, {{ today }}</h2>
      <div class="govuk-grid-row events">
        {{personalScheduleToday(data.todaysEvents)}}
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          <p class="govuk-body">
            <a href="/" class="govuk-link">See your 7 day timetable</a>
          </p>
        </div>
      </div>
      <h2 class="govuk-heading-l">Your essential prison information</h2>
      <div class="govuk-grid-row">
        {{ personalBalances(data.balances) }}
        {{ personalIncentives(data.iePSummary) }}
        {{ personalKeyworker(data.keyWorker) }}
        {{ personalVisits(data.visits) }}
        {{ personalImportantDates(data.importantDates) }}
      </div>
    </div>
  </div>

{% endblock %}
