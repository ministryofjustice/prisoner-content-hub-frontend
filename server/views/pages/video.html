{% from "../components/header/macro.njk" import govukHeaderWithBack %}
{% from "../components/next-episodes-content/macro.njk" import nextEpisodesContent %}
{% from "../components/you-might-like/macro.njk" import hubYouMightLike %}

{% extends "../components/template.njk" %}


{% block head %}
  <link href="/public/video-js.min.css" rel="stylesheet">

  <!--[if !IE 8]><!-->
    <link href="/public/stylesheets/application.css" rel="stylesheet" />
  <!--<![endif]-->

  {# For Internet Explorer 8, you need to compile specific stylesheet #}
  {# see https://github.com/alphagov/govuk-frontend/blob/master/docs/installation/supporting-internet-explorer-8.md #}
  <!--[if IE 8]>
    <link href="/govuk-frontend/all-ie8.css" rel="stylesheet" />
  <![endif]-->

  {# For older browsers to allow them to recognise HTML5 elements such as `<header>` #}
  <!--[if lt IE 9]>
    <script src="/html5-shiv/html5shiv.js"></script>
  <![endif]-->

  <script src="/public/video.min.js"></script>

{% endblock %}

{% block header %}
  {{ govukHeaderWithBack({
        mainMenu: mainMenu,
        topicsMenu: topicsMenu,
        appName: envVars.APP_NAME
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds govuk-hub-media-player">

    <header class="govuk-hub-media-player__header">
      <img width="100" height="100" id="thumbnail" src="{{ data.thumbnail.url }}" alt="{{ data.thumbnail.alt }}" class="govuk-hub-media-player__show-tag">
      <p class="govuk-hub-media-player__catgeory govuk-heading-m"><a href="#" id="series" title="" class="govuk-link govuk-hub-media-player__catgeory-link">{{ data.seriesName }}</a></p>
      <h1 id="title" class="govuk-hub-media-player__title govuk-heading-xl govuk-body govuk-!-font-size-36 govuk-body govuk-!-font-weight-bold">{{ data.title }}</h1>
    </header>

    <div class="govuk-hub-media-player__player">
      <video
        controls
        poster="/public/images/video-thumbnail.jpg"
        id="my-player"
        class="video-js vjs-default-skin vjs-16-9"
        data-setup="{'fluid': true}"
      >
        <source src="{{ data.media }}" type="video/mp4" />
      </video>
    </div>

    <div class="govuk-hub-media-player__description">
      <div id="body" class="govuk-body">{{ data.description.sanitized | safe }}</div>
      {# <a href="#" title="Play" id="read-more" class="govuk-hub-media-player-item-icon govuk-hub-media-player-item__main-play govuk-link"><span class="icon-link"><span class="path1"></span><span class="path2"></span></span><span class="space">Read more</span></a> #}
    </div>

    <div id="next-episodes" class="govuk-hub-media-player__watch-next">
      {{ nextEpisodesContent({
        data: data.season
      }) }}
    </div>

  </div>
</div>

{# <div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">
    {{ hubYouMightLike({
      data: youmightlikesmalldata
    }) }}
  </div>
</div> #}


{% endblock %}
